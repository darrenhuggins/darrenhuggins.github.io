<meta name="viewport" content="width=device-width, initial-scale=1.0, , shrink-to-fit=no" />
<link rel="stylesheet" type="text/css" href="tswnavbar.css" />

<form>
  Store Number:<br>
  <input type="text" name="storenumber"><br>

</form>

<div id="tswcssbuttons">
<ul>
<li><a href="javascript:loginErrExample()">Slurpee</a></li>
<li><a href="javascript:loginErrExample()">Cash Register</a></li>
<li><a href="javascript:loginErrExample()">Pinpad / Card Issue</a></li>
<li><a href="javascript:loginErrExample()">Gas Pump Down</a></li>
<li><a href="javascript:loginErrExample()">Ice Machine Down</a></li>
<li><a href="javascript:loginErrExample()">Water Leak</a></li>
<li><a href="javascript:loginErrExample()">Coffee Issue</a></li>
</ul>


</div>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

<script>
          
        function loginErrExample() {
           
          var serviceKey = "25c7766eede1452ca427a2cd12a6d457";
            
          var date = new Date();
          customerName = "dhuggins@pagerduty.com";
          dedupKey = customerName + date.getMinutes() + date.getSeconds();
        
          var orderValue = '1000';
          
          var eventObject = '{ ' +
              ' "client_url": "https://rpm.newrelic.com/accounts/1818495/applications/105833762", ' +
              ' "service_key"\: "' + serviceKey + '", ' +
              ' "incident_key"\: "' + dedupKey + '", ' +
              ' "client"\: "New Relic", ' +
              ' "vendor"\: "New Relic", ' +
              ' "event_type"\: "trigger", ' +
              ' "contexts"\: [ ' +
              ' {  ' +
                  ' "src": "https://docs.newrelic.com/sites/default/files/styles/inline_660px/public/thumbnails/image/transactions-ui-alert.png?itok=LgLy0yee", ' +
                  ' "alt": "Snapshot of metric", ' +
                  ' "href": "https://s14.postimg.org/knuvhigz5/NRErrors2.png", ' +
                  ' "type": "image" ' +
              ' }, ' +

              ' { ' +
              ' "text": "Conference URL (Zoom)", ' +
              ' "href": "https://pagerduty.zoom.us/j/5080555253", ' +
              ' "type": "link" ' +
              ' }, ' +

            '{' +
            '  "text": "Conference Dial (Zoom)",  ' +
            '  "href": "tel:+442036950088,,5080555253#",  ' +
            '  "type": "link"  ' +
            '},' +
          '{' +
            ' "text": "Monitor Status", ' +
            ' "href": "https://appp.datadoghq.com/monitors#72563?to_ts=1452282540000&group=host%3Aprod-web-xdb09&from_ts=1452281340000", ' +
            ' "type": "link" ' +
          '},' +
          '{ ' +
          ' "text": "Triggered Monitors", ' +
          '  "href": "https://rpm.newrelic.com/accounts/1818495/applications/105833762", ' +
          '  "type": "link" ' +
          ' } ' +
          ' ], ' +
        ' "details": { ' +
          ' "body": "[Critical] Unexpected server response detected on the Live Core Service, High Error rates <br/> Object Reference Not Set and ADO.NET Connection pool exceeded errors detected" , ' +
          ' "Order Value": ' + orderValue + ', ' +
          ' "priority": "High", ' +
          ' "title": "[Critical] Unexpected server response detected on the Live Core Service, High Error rates", ' +
          ' "event_id": "8125363154448140714", ' +
          ' "tags": "aws-prod, base, env:prod, host:farnsworth, monitor, pd_az:us-west-2c, production, xdb, xtradb", ' +
          ' "Customer": "'+ customerName + '" ' +
          ' }, ' +
        ' "description": "[Critical] Live Core Service Failure: unexpected server response" ' +
        '}'
       
        console.log(eventObject)

       
          $.ajax({
            method: "POST",
            url: "https://events.pagerduty.com/generic/2010-04-15/create_event.json",
            data: eventObject, 
            success:function(resp){console.log(JSON.stringify(resp));}
          })
            .done(function( msg ) {
             
          });

          alert('Error connecting to Apollo Gaming Core Services.')
          return false;
        }
        </script>